services:
  # Redis - Backend storage for Korvet
  redis:
    image: redis
    ports:
      - "6379:6379"

  # Korvet Server - Kafka-compatible streaming service
  korvet:
    image: redisfield/korvet
    ports:
      - "9092:9092"
    environment:
      KORVET_REDIS_HOST: redis
      KORVET_SERVER_ADVERTISED_HOST: korvet
    depends_on:
      - redis

  # Kafka CLI Tools - For running kafka-console-producer and kafka-console-consumer
  kafka-tools:
    image: apache/kafka
    command: sleep infinity
    depends_on:
      - korvet
